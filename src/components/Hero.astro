---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section id="home" class="relative min-h-screen flex items-center justify-center pt-16 overflow-hidden">
  <!-- Animated background blobs -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-primary-400/20 dark:bg-primary-500/10 rounded-full blur-3xl animate-float"></div>
    <div class="absolute -bottom-40 -left-40 w-96 h-96 bg-accent-400/20 dark:bg-accent-500/10 rounded-full blur-3xl animate-float-delayed"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary-300/10 dark:bg-primary-600/5 rounded-full blur-3xl animate-pulse-slow"></div>
  </div>

  <div class="relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
    <div class="flex flex-col-reverse lg:flex-row items-center gap-12 lg:gap-16">
      <!-- Text Content -->
      <div class="flex-1 text-center lg:text-left">
        <p class="text-primary-600 dark:text-primary-400 font-semibold text-lg mb-2 tracking-wide">
          {t('hero.greeting')}
        </p>
        <h1 class="text-5xl sm:text-6xl lg:text-7xl font-extrabold mb-4 leading-tight">
          <span class="bg-gradient-to-r from-primary-600 via-primary-500 to-accent-500 bg-clip-text text-transparent">
            {t('hero.name')}
          </span>
        </h1>
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-100/80 dark:bg-primary-900/30 border border-primary-200 dark:border-primary-700/50 mb-6">
          <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
          <span class="text-primary-700 dark:text-primary-300 font-semibold text-sm">
            {t('hero.role')} @ Readymind
          </span>
        </div>
        <p class="text-slate-600 dark:text-slate-300 text-lg leading-relaxed mb-8 max-w-xl mx-auto lg:mx-0">
          {t('hero.bio')}
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
          <a
            href="#contact"
            class="group inline-flex items-center justify-center gap-2 px-8 py-3.5 rounded-xl bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-accent-500 text-white font-semibold shadow-lg shadow-primary-500/25 hover:shadow-primary-500/40 transition-all duration-300 hover:-translate-y-0.5"
          >
            {t('hero.contact')}
            <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
          <a
            href={`/cv/${lang}/CV Kevin Maximiliano Palma Romero - Azure Cloud Engineer 2026.pdf`}
            download
            class="inline-flex items-center justify-center gap-2 px-8 py-3.5 rounded-xl bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 font-semibold hover:bg-white dark:hover:bg-slate-700 transition-all duration-300 hover:-translate-y-0.5"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
            {t('hero.cta')}
          </a>
        </div>
      </div>

      <!-- Profile Photo -->
      <div class="flex-shrink-0">
        <div class="relative">
          <!-- Animated gradient border -->
          <div class="absolute -inset-1.5 bg-gradient-to-r from-primary-500 via-accent-500 to-primary-500 rounded-full animate-border-spin opacity-75 blur-sm"></div>
          <div class="absolute -inset-1 bg-gradient-to-r from-primary-500 via-accent-500 to-primary-500 rounded-full animate-border-spin"></div>
          <div class="relative w-48 h-48 sm:w-64 sm:h-64 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-800 border-4 border-white dark:border-slate-900">
            <img
              src="/imgProfile.png"
              alt="Kevin Maximiliano Palma Romero"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Scroll indicator -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce hidden sm:block">
      <svg class="w-6 h-6 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </div>
</section>
