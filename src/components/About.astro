---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const certifications = [
  { name: 'AZ-104', title: 'Azure Administrator', color: 'from-blue-500 to-blue-700', url: 'https://learn.microsoft.com/en-gb/users/kevinmaximilianopalmaromero-4986/credentials/48112e50f0667613' },
  { name: 'AZ-700', title: 'Azure Network Engineer', color: 'from-cyan-500 to-blue-600', url: 'https://learn.microsoft.com/en-us/users/kevinmaximilianopalmaromero-4986/credentials/b43015bfda159018' },
  { name: 'AZ-900', title: 'Azure Fundamentals', color: 'from-sky-400 to-blue-500', url: 'https://learn.microsoft.com/en-us/users/kevinmaximilianopalmaromero-4986/credentials/64d4b26fcc71de2c' },
  { name: 'DP-900', title: 'Azure Data Fundamentals', color: 'from-purple-500 to-blue-600', url: 'https://learn.microsoft.com/en-gb/users/kevinmaximilianopalmaromero-4986/credentials/80c3d30098977b49' },
];
---

<section id="about" class="relative py-20 lg:py-28">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section header -->
    <div class="text-center mb-16">
      <h2 class="text-4xl sm:text-5xl font-bold mb-4">
        <span class="bg-gradient-to-r from-primary-600 to-accent-500 bg-clip-text text-transparent">
          {t('about.title')}
        </span>
      </h2>
      <p class="text-slate-600 dark:text-slate-300 text-lg max-w-3xl mx-auto leading-relaxed">
        {t('about.description')}
      </p>
    </div>

    <!-- Certifications -->
    <div class="mb-16">
      <h3 class="text-2xl font-bold text-center mb-8 text-slate-700 dark:text-slate-200">
        {t('about.certifications')}
      </h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        {certifications.map((cert) => (
          <a
            href={cert.url}
            target="_blank"
            rel="noopener noreferrer"
            class="group relative p-[1px] rounded-2xl bg-gradient-to-br from-primary-400/50 to-accent-400/50 hover:from-primary-400 hover:to-accent-400 transition-all duration-300"
          >
            <div class="bg-white/80 dark:bg-slate-800/80 backdrop-blur-md rounded-2xl p-5 text-center h-full hover:-translate-y-1 transition-transform duration-300">
              <div class={`inline-flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br ${cert.color} text-white font-bold text-sm mb-3 group-hover:scale-110 transition-transform`}>
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                </svg>
              </div>
              <p class="font-bold text-primary-600 dark:text-primary-400 text-lg">{cert.name}</p>
              <p class="text-slate-500 dark:text-slate-400 text-xs mt-1">{cert.title}</p>
              <span class="inline-flex items-center gap-1 mt-2 text-xs text-primary-500 dark:text-primary-400 opacity-0 group-hover:opacity-100 transition-opacity">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                </svg>
                Verify
              </span>
            </div>
          </a>
        ))}
      </div>
    </div>

    <!-- Education & Experience Timelines -->
    <div class="grid md:grid-cols-2 gap-8">

      <!-- Education Timeline -->
      <div>
        <h3 class="text-2xl font-bold mb-8 flex items-center gap-3 text-slate-700 dark:text-slate-200">
          <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path d="M12 14l9-5-9-5-9 5 9 5z"></path>
              <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"></path>
            </svg>
          </div>
          {t('about.education')}
        </h3>

        <div class="relative pl-8">
          <!-- Timeline line -->
          <div class="absolute left-[11px] top-2 bottom-2 w-0.5 bg-gradient-to-b from-primary-500 to-primary-300 dark:from-primary-400 dark:to-primary-700"></div>

          <!-- UADE (newest - top) -->
          <div class="relative mb-8 last:mb-0">
            <!-- Timeline dot -->
            <div class="absolute -left-8 top-1 w-6 h-6 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 border-4 border-white dark:border-slate-900 shadow-md z-10"></div>
            <div class="p-5 rounded-2xl bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-slate-200/50 dark:border-slate-700/50 shadow-lg hover:shadow-xl transition-all duration-300">
              <div class="flex items-start justify-between mb-2">
                <h4 class="font-bold text-slate-800 dark:text-slate-100">{t('edu.uade.title')}</h4>
                <span class="px-2 py-0.5 text-xs rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 font-medium whitespace-nowrap ml-2">
                  {t('edu.uade.status')}
                </span>
              </div>
              <p class="text-primary-600 dark:text-primary-400 font-medium text-sm">{t('edu.uade.institution')}</p>
              <p class="text-slate-400 dark:text-slate-500 text-xs mt-1">{t('edu.uade.period')}</p>
              <p class="text-slate-600 dark:text-slate-300 text-sm mt-3 leading-relaxed">{t('edu.uade.description')}</p>
            </div>
          </div>

          <!-- IFTS N°11 (older - bottom) -->
          <div class="relative">
            <!-- Timeline dot -->
            <div class="absolute -left-8 top-1 w-6 h-6 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 border-4 border-white dark:border-slate-900 shadow-md z-10"></div>
            <div class="p-5 rounded-2xl bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-slate-200/50 dark:border-slate-700/50 shadow-lg hover:shadow-xl transition-all duration-300">
              <div class="flex items-start justify-between mb-2">
                <h4 class="font-bold text-slate-800 dark:text-slate-100">{t('edu.ifts.title')}</h4>
                <span class="px-2 py-0.5 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 font-medium whitespace-nowrap ml-2">
                  {t('edu.ifts.status')}
                </span>
              </div>
              <p class="text-primary-600 dark:text-primary-400 font-medium text-sm">{t('edu.ifts.institution')}</p>
              <p class="text-slate-400 dark:text-slate-500 text-xs mt-1">{t('edu.ifts.period')}</p>
              <p class="text-slate-600 dark:text-slate-300 text-sm mt-3 leading-relaxed">{t('edu.ifts.description')}</p>
              <ul class="mt-2 space-y-1">
                {t('edu.ifts.details').split('\n').map((item) => (
                  <li class="text-slate-500 dark:text-slate-400 text-xs leading-relaxed flex items-start gap-2">
                    <span class="text-primary-500 mt-0.5">•</span>
                    <span>{item}</span>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Experience Timeline -->
      <div>
        <h3 class="text-2xl font-bold mb-8 flex items-center gap-3 text-slate-700 dark:text-slate-200">
          <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-accent-500 to-primary-600 flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          {t('about.experience')}
        </h3>

        <div class="relative pl-8">
          <!-- Timeline line -->
          <div class="absolute left-[11px] top-2 bottom-2 w-0.5 bg-gradient-to-b from-accent-500 to-primary-400 dark:from-accent-400 dark:to-primary-700"></div>

          <!-- Azure Cloud Engineer (newest - top) -->
          <div class="relative mb-8 last:mb-0">
            <!-- Timeline dot -->
            <div class="absolute -left-8 top-1 w-6 h-6 rounded-full bg-gradient-to-br from-accent-500 to-primary-600 border-4 border-white dark:border-slate-900 shadow-md z-10"></div>
            <div class="p-5 rounded-2xl bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-slate-200/50 dark:border-slate-700/50 shadow-lg hover:shadow-xl transition-all duration-300">
              <div class="flex items-start justify-between mb-2">
                <h4 class="font-bold text-slate-800 dark:text-slate-100">{t('exp.azure.title')}</h4>
                <span class="px-2 py-0.5 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 font-medium whitespace-nowrap ml-2">
                  {t('exp.azure.type')}
                </span>
              </div>
              <p class="text-primary-600 dark:text-primary-400 font-medium text-sm">{t('exp.azure.company')}</p>
              <p class="text-slate-400 dark:text-slate-500 text-xs mt-1">
                {t('exp.azure.period')} · {t('exp.azure.location')}
              </p>
              <div class="mt-3 space-y-2">
                {t('exp.azure.description').split('\n').map((paragraph) => (
                  <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed">{paragraph}</p>
                ))}
              </div>
            </div>
          </div>

          <!-- Cloud Engineer (older - bottom) -->
          <div class="relative">
            <!-- Timeline dot -->
            <div class="absolute -left-8 top-1 w-6 h-6 rounded-full bg-gradient-to-br from-primary-400 to-accent-400 border-4 border-white dark:border-slate-900 shadow-md z-10"></div>
            <div class="p-5 rounded-2xl bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-slate-200/50 dark:border-slate-700/50 shadow-lg hover:shadow-xl transition-all duration-300">
              <h4 class="font-bold text-slate-800 dark:text-slate-100 mb-2">{t('exp.cloud.title')}</h4>
              <p class="text-primary-600 dark:text-primary-400 font-medium text-sm">{t('exp.cloud.company')}</p>
              <p class="text-slate-400 dark:text-slate-500 text-xs mt-1">
                {t('exp.cloud.period')} · {t('exp.cloud.location')}
              </p>
              <div class="mt-3 space-y-2">
                {t('exp.cloud.description').split('\n').map((paragraph) => (
                  <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed">{paragraph}</p>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
