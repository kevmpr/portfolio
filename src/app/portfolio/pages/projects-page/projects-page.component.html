<div
  class="flex flex-col items-center justify-start w-full h-full animate__animated animate__fadeIn animate__faster"
>
  <div
    class="flex flex-col items-center justify-center gap-10 w-[90%] md:w-3/4 xl:w-7/12 py-10"
  >
    <section
      class="flex flex-col items-center justify-center gap-2 w-full lg:w-3/4 xl:w-[55%]"
    >
      <h1
        class="text-2xl lg:text-3xl font-bold text-center bg-gradient-to-r from-[#090979] to-[#0d92f4] bg-clip-text text-transparent dark:from-[#0d92f4] dark:to-[#ffffff]"
        [transloco]="'projects.title'"
      ></h1>

      <p
        class="text-xm lg:text-xl font-medium text-[#090979] text-center dark:text-[#0d92f4]"
        [transloco]="'projects.description'"
      ></p>
    </section>

    <div
      class="flex flex-col items-center justify-center gap-2 w-full lg:w-3/4 xl:w-[55%]"
    >
      <select
        id="bar-select"
        class="sm:hidden py-3 px-4 pe-9 bg-white/30 dark:bg-white/10 block w-full rounded-4xl text-sm dark:text-neutral-400 outline-[#090979] dark:outline-white border-white"
        aria-label="Tabs"
      >
        @for(project of projectsPortfolio(); track $index) {
        <option [value]="'#bar-with-underline-' + ($index + 1)">
          {{ "projects.list." + project.key + "." + project.title | transloco }}
        </option>

        }
      </select>

      <div
        class="hidden sm:flex border-b border-gray-200 dark:border-neutral-700 w-full justify-center items-center"
      >
        <nav
          class="relative z-0 flex border border-gray-200 rounded-xl overflow-hidden dark:border-neutral-700 justify-center items-center w-full bg-white/30 dark:bg-white/10"
          aria-label="Tabs"
          role="tablist"
          aria-orientation="horizontal"
          data-hs-tab-select="#bar-select"
        >
          <button
            type="button"
            class="hs-tab-active:border-b-[#090979] hs-tab-active:text-[#090979] dark:hs-tab-active:text-white relative dark:hs-tab-active:border-b-[#0d92f4] min-w-0 flex-1 bg-transparent first:border-s-0 border-s border-b-2 border-gray-200 py-4 px-4 text-gray-500 hover:text-gray-700 text-sm font-medium text-center overflow-hidden hover:bg-white/40 focus:z-10 focus:outline-hidden focus:text-[#090979] dark:focus:text-white disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-l-neutral-700 dark:border-b-neutral-700 dark:text-neutral-400 dark:hover:bg-white/5 dark:hover:text-neutral-400 active w-full hover:cursor-pointer"
            id="bar-with-underline-item-1"
            aria-selected="true"
            data-hs-tab="#bar-with-underline-1"
            aria-controls="bar-with-underline-1"
            role="tab"
          >
            {{ "projects.list.inventoryManagement.number" | transloco }}
          </button>

          <button
            type="button"
            class="hs-tab-active:border-b-[#090979] hs-tab-active:text-[#090979] dark:hs-tab-active:text-white relative dark:hs-tab-active:border-b-[#0d92f4] min-w-0 flex-1 bg-transparent first:border-s-0 border-s border-b-2 border-gray-200 py-4 px-4 text-gray-500 hover:text-gray-700 text-sm font-medium text-center overflow-hidden hover:bg-white/40 focus:z-10 focus:outline-hidden focus:text-[#090979] dark:focus:text-white disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-l-neutral-700 dark:border-b-neutral-700 dark:text-neutral-400 dark:hover:bg-white/5 dark:hover:text-neutral-400 w-full hover:cursor-pointer"
            id="bar-with-underline-item-2"
            aria-selected="false"
            data-hs-tab="#bar-with-underline-2"
            aria-controls="bar-with-underline-2"
            role="tab"
          >
            {{ "projects.list.dogGrooming.number" | transloco }}
          </button>

          <button
            type="button"
            class="hs-tab-active:border-b-[#090979] hs-tab-active:text-[#090979] dark:hs-tab-active:text-white relative dark:hs-tab-active:border-b-[#0d92f4] min-w-0 flex-1 bg-transparent first:border-s-0 border-s border-b-2 border-gray-200 py-4 px-4 text-gray-500 hover:text-gray-700 text-sm font-medium text-center overflow-hidden hover:bg-white/40 focus:z-10 focus:outline-hidden focus:text-[#090979] dark:focus:text-white disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-l-neutral-700 dark:border-b-neutral-700 dark:text-neutral-400 dark:hover:bg-white/5 dark:hover:text-neutral-400 w-full hover:cursor-pointer"
            id="bar-with-underline-item-3"
            aria-selected="false"
            data-hs-tab="#bar-with-underline-3"
            aria-controls="bar-with-underline-3"
            role="tab"
          >
            {{ "projects.list.bookFinder.number" | transloco }}
          </button>

          <button
            type="button"
            class="hs-tab-active:border-b-[#090979] hs-tab-active:text-[#090979] dark:hs-tab-active:text-white relative dark:hs-tab-active:border-b-[#0d92f4] min-w-0 flex-1 bg-transparent first:border-s-0 border-s border-b-2 border-gray-200 py-4 px-4 text-gray-500 hover:text-gray-700 text-sm font-medium text-center overflow-hidden hover:bg-white/40 focus:z-10 focus:outline-hidden focus:text-[#090979] dark:focus:text-white disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-l-neutral-700 dark:border-b-neutral-700 dark:text-neutral-400 dark:hover:bg-white/5 dark:hover:text-neutral-400 w-full hover:cursor-pointer"
            id="bar-with-underline-item-4"
            aria-selected="false"
            data-hs-tab="#bar-with-underline-4"
            aria-controls="bar-with-underline-4"
            role="tab"
          >
            {{ "projects.list.currencyConverter.number" | transloco }}
          </button>

          <button
            type="button"
            class="hs-tab-active:border-b-[#090979] hs-tab-active:text-[#090979] dark:hs-tab-active:text-white relative dark:hs-tab-active:border-b-[#0d92f4] min-w-0 flex-1 bg-transparent first:border-s-0 border-s border-b-2 border-gray-200 py-4 px-4 text-gray-500 hover:text-gray-700 text-sm font-medium text-center overflow-hidden hover:bg-white/40 focus:z-10 focus:outline-hidden focus:text-[#090979] dark:focus:text-white disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-l-neutral-700 dark:border-b-neutral-700 dark:text-neutral-400 dark:hover:bg-white/5 dark:hover:text-neutral-400 w-full hover:cursor-pointer"
            id="bar-with-underline-item-5"
            aria-selected="false"
            data-hs-tab="#bar-with-underline-5"
            aria-controls="bar-with-underline-5"
            role="tab"
          >
            {{ "projects.list.textEncryptor.number" | transloco }}
          </button>

          <button
            type="button"
            class="hs-tab-active:border-b-[#090979] hs-tab-active:text-[#090979] dark:hs-tab-active:text-white relative dark:hs-tab-active:border-b-[#0d92f4] min-w-0 flex-1 bg-transparent first:border-s-0 border-s border-b-2 border-gray-200 py-4 px-4 text-gray-500 hover:text-gray-700 text-sm font-medium text-center overflow-hidden hover:bg-white/40 focus:z-10 focus:outline-hidden focus:text-[#090979] dark:focus:text-white disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-l-neutral-700 dark:border-b-neutral-700 dark:text-neutral-400 dark:hover:bg-white/5 dark:hover:text-neutral-400 w-full hover:cursor-pointer"
            id="bar-with-underline-item-6"
            aria-selected="false"
            data-hs-tab="#bar-with-underline-6"
            aria-controls="bar-with-underline-6"
            role="tab"
          >
            {{ "projects.list.foodStore.number" | transloco }}
          </button>
        </nav>
      </div>

      <div class="mt-3 w-full">
        @for(project of projectsPortfolio(); track $index){ @if($index === 0) {
        <div
          [id]="'bar-with-underline-' + ($index + 1)"
          role="tabpanel"
          aria-labelledby="bar-with-underline-item-1"
          class="animate__animated animate__jackInTheBox animate__faster"
        >
          <div
            class="flex flex-col gap-4 bg-white/30 dark:bg-white/10 backdrop-blur-2xl rounded-4xl w-full lg:w-full h-full justify-center"
          >
            <div
              class="relative w-full h-[3/4] group overflow-hidden hover:cursor-pointer"
              (click)="toggleLinks(project.title)"
              #projectContainer
            >
              <img
                [src]="project.routeImg"
                [alt]="project.title"
                class="w-full h-[13rem] md:h-full object-cover rounded-t-4xl transition-opacity duration-300"
                [ngClass]="{
                  'opacity-70': activeProjectId === project.title,
                  'group-hover:opacity-70': activeProjectId !== project.title
                }"
              />

              <div
                class="flex flex-col md:flex-row justify-center items-center gap-4 rounded-t-4xl p-3 absolute inset-0 text-white text-lg font-semibold opacity-0 transition-opacity duration-300 bg-black/70"
                [ngClass]="{
                  'opacity-100': activeProjectId === project.title,
                  'opacity-0 group-hover:opacity-100':
                    activeProjectId !== project.title
                }"
              >
                @for(link of project.urls; track $index){
                <a
                  [href]="link.url"
                  target="_blank"
                  class="flex justify-center items-center gap-2 hover:scale-110 transition-transform duration-300 ease-in-out"
                  ><img [src]="link.routeImgDark" [alt]="link.label" />
                  <p>{{ "projects.links." + link.label | transloco }}</p>
                </a>
                }
              </div>
            </div>

            <div class="flex flex-col gap-4 h-3/4 p-6 py-2">
              <section>
                <h2
                  class="text-xl font-bold bg-gradient-to-r from-[#090979] to-[#0d92f4] bg-clip-text text-transparent dark:from-[#0d92f4] dark:to-[#ffffff]"
                  [transloco]="
                    'projects.list.' + project.key + '.' + project.title
                  "
                ></h2>
                <p
                  class="text-xm font-medium text-[#090979] italic dark:text-[#0d92f4]"
                  [transloco]="
                    'projects.list.' + project.key + '.' + project.rol
                  "
                ></p>
                <p
                  class="text-xm font-medium text-[#090979] italic dark:text-[#0d92f4]"
                  [transloco]="
                    'projects.list.' + project.key + '.' + project.date
                  "
                ></p>
              </section>

              <div class="flex flex-col gap-1 text-medium dark:text-white">
                @for(text of project.description; track $index){
                <p
                  [transloco]="
                    'projects.list.' + project.key + '.description.' + text
                  "
                ></p>
                }
              </div>
            </div>

            <div
              class="grid grid-cols-2 sm:grid-cols-3 gap-6 justify-items-center lg:px-4 h-[35%] p-6 pt-0"
            >
              @for(tool of project.tools; track $index){
              <div
                class="flex flex-col items-center justify-center gap-2 text-[#090979] text-center text-xm font-bold hover:cursor-pointer hover:scale-110 transition-transform duration-300 ease-in-out dark:text-white"
                (click)="startConfetti()"
              >
                <img
                  [src]="tool.routeImg"
                  [alt]="tool.label"
                  class="w-[3rem]"
                />
                <p>{{ tool.label }}</p>
              </div>
              }
            </div>
          </div>
        </div>
        } @else{
        <div
          [id]="'bar-with-underline-' + ($index + 1)"
          role="tabpanel"
          class="hidden animate__animated animate__jackInTheBox animate__faster"
          aria-labelledby="bar-with-underline-item-2"
        >
          <div
            class="flex flex-col gap-4 bg-white/30 backdrop-blur-2xl rounded-4xl w-full lg:w-full h-full dark:bg-white/10"
          >
            <div
              class="relative w-full h-[3/4] group overflow-hidden hover:cursor-pointer"
              (click)="toggleLinks(project.title)"
              #projectContainer
            >
              <img
                [src]="project.routeImg"
                [alt]="project.title"
                class="w-full object-cover h-[13rem] md:h-full rounded-t-4xl transition-opacity duration-300"
                loading="lazy"
                [ngClass]="{
                  'opacity-70': activeProjectId === project.title,
                  'group-hover:opacity-70': activeProjectId !== project.title
                }"
              />

              <div
                class="flex flex-col md:flex-row justify-center items-center gap-4 rounded-t-4xl p-3 absolute inset-0 text-white text-lg font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/70"
                [ngClass]="{
                  'opacity-100': activeProjectId === project.title,
                  'opacity-0 group-hover:opacity-100':
                    activeProjectId !== project.title
                }"
              >
                @for(link of project.urls; track $index){
                <a
                  [href]="link.url"
                  target="_blank"
                  class="flex justify-center items-center gap-2 hover:scale-110 transition-transform duration-300 ease-in-out"
                  ><img [src]="link.routeImgDark" [alt]="link.label" />
                  <p>{{ "projects.links." + link.label | transloco }}</p>
                </a>
                }
              </div>
            </div>

            <div class="flex flex-col gap-4 h-3/4 p-6 py-2">
              <section>
                <h2
                  class="text-xl font-bold bg-gradient-to-r from-[#090979] to-[#0d92f4] bg-clip-text text-transparent dark:from-[#0d92f4] dark:to-[#ffffff]"
                  [transloco]="
                    'projects.list.' + project.key + '.' + project.title
                  "
                ></h2>
                <p
                  class="text-xm font-medium text-[#090979] italic dark:text-[#0d92f4]"
                  [transloco]="
                    'projects.list.' + project.key + '.' + project.rol
                  "
                ></p>
                <p
                  class="text-xm font-medium text-[#090979] italic dark:text-[#0d92f4]"
                  [transloco]="
                    'projects.list.' + project.key + '.' + project.date
                  "
                ></p>
              </section>

              <div class="flex flex-col gap-1 text-medium dark:text-white">
                @for(text of project.description; track $index){
                <p
                  [transloco]="
                    'projects.list.' + project.key + '.description.' + text
                  "
                ></p>
                }
              </div>
            </div>

            <div
              class="grid grid-cols-2 sm:grid-cols-3 gap-6 justify-items-center lg:px-4 h-[35%] p-6 pt-0"
            >
              @for(tool of project.tools; track $index){
              <div
                class="flex flex-col items-center justify-center gap-2 text-[#090979] text-center text-xm font-bold hover:cursor-pointer hover:scale-110 transition-transform duration-300 ease-in-out dark:text-white"
                (click)="startConfetti()"
              >
                <img
                  [src]="tool.routeImg"
                  [alt]="tool.label"
                  class="w-[3rem]"
                />
                <p>{{ tool.label }}</p>
              </div>
              }
            </div>
          </div>
        </div>
        } }
      </div>
    </div>
  </div>
</div>
